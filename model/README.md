# Modelå±‚ä½¿ç”¨è¯´æ˜

## ğŸ“ æ–‡ä»¶ç»“æ„
```
model/
â”œâ”€â”€ sql/                    # SQLæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ user.sql           # ç”¨æˆ·å’Œå‘˜å·¥è¡¨
â”‚   â”œâ”€â”€ company.sql        # å…¬å¸ã€éƒ¨é—¨ã€èŒä½è¡¨
â”‚   â”œâ”€â”€ role.sql           # è§’è‰²ã€æƒé™ã€é…ç½®ã€æ—¥å¿—è¡¨
â”‚   â”œâ”€â”€ task.sql           # ä»»åŠ¡ç›¸å…³è¡¨
â”‚   â”œâ”€â”€ user_auth.sql      # ç”¨æˆ·æƒé™å’Œé€šçŸ¥è¡¨
â”‚   â”œâ”€â”€ init.sql           # å®Œæ•´åˆå§‹åŒ–è„šæœ¬ï¼ˆåŒ…å«å¤–é”®ï¼‰
â”‚   â””â”€â”€ README.md          # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ Makefile               # æ„å»ºè„šæœ¬
â””â”€â”€ README.md              # æœ¬æ–‡ä»¶
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å•ç‹¬ç”ŸæˆæŸä¸ªè¡¨
```bash
# ç”Ÿæˆç”¨æˆ·è¡¨
make user

# ç”Ÿæˆå…¬å¸è¡¨
make company

# ç”Ÿæˆè§’è‰²è¡¨
make role

# ç”Ÿæˆæƒé™è¡¨
make user_auth

# ç”Ÿæˆä»»åŠ¡è¡¨
make task
```

### 2. ç”Ÿæˆæ‰€æœ‰è¡¨
```bash
# æŒ‰ä¾èµ–é¡ºåºç”Ÿæˆæ‰€æœ‰è¡¨
make all

# æˆ–è€…
make
```

### 3. æ¸…ç†å’Œé‡å»º
```bash
# æ¸…ç†æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶
make clean

# æ¸…ç†åé‡æ–°ç”Ÿæˆæ‰€æœ‰è¡¨
make rebuild
```

## âš ï¸ é‡è¦è¯´æ˜

### ç”Ÿæˆé¡ºåº
ç”±äºè¡¨ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¿…é¡»æŒ‰ç…§ä»¥ä¸‹é¡ºåºç”Ÿæˆï¼š
1. **user** - ç”¨æˆ·è¡¨ï¼ˆæ— ä¾èµ–ï¼‰
2. **company** - å…¬å¸è¡¨ï¼ˆä¾èµ–userï¼‰
3. **role** - è§’è‰²è¡¨ï¼ˆä¾èµ–companyå’Œuserï¼‰
4. **user_auth** - æƒé™è¡¨ï¼ˆä¾èµ–userï¼‰
5. **task** - ä»»åŠ¡è¡¨ï¼ˆä¾èµ–companyå’Œuserï¼‰

### å¤–é”®çº¦æŸ
- å„ä¸ªç‹¬ç«‹çš„SQLæ–‡ä»¶ä¸­**ä¸åŒ…å«å¤–é”®çº¦æŸ**
- å¤–é”®çº¦æŸç»Ÿä¸€åœ¨ `init.sql` æ–‡ä»¶ä¸­æ·»åŠ 
- è¿™æ ·å¯ä»¥é¿å…è¡¨ä¹‹é—´çš„å¼ºè€¦åˆï¼Œæ”¯æŒå•ç‹¬ç”Ÿæˆ

### æ•°æ®åº“åˆå§‹åŒ–
å¦‚æœéœ€è¦åˆ›å»ºå®Œæ•´çš„æ•°æ®åº“ï¼ˆåŒ…å«å¤–é”®çº¦æŸï¼‰ï¼Œè¯·ä½¿ç”¨ï¼š
```sql
-- æ‰§è¡Œ init.sql æ–‡ä»¶
source model/sql/init.sql;
```

## ğŸ”§ æ•…éšœæ’é™¤

### 1. ç”Ÿæˆå¤±è´¥
å¦‚æœæŸä¸ªè¡¨ç”Ÿæˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š
- æ˜¯å¦æŒ‰ç…§æ­£ç¡®çš„ä¾èµ–é¡ºåºç”Ÿæˆ
- SQLè¯­æ³•æ˜¯å¦æ­£ç¡®
- æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯

### 2. å¤–é”®é”™è¯¯
å¦‚æœé‡åˆ°å¤–é”®ç›¸å…³é”™è¯¯ï¼š
- ç¡®ä¿å…ˆåˆ›å»ºè¢«å¼•ç”¨çš„è¡¨
- æ£€æŸ¥å¤–é”®åç§°æ˜¯å¦å†²çª
- ä½¿ç”¨ `init.sql` è¿›è¡Œå®Œæ•´åˆå§‹åŒ–

### 3. æ¸…ç†é‡å»º
å¦‚æœé‡åˆ°å¥‡æ€ªçš„é—®é¢˜ï¼š
```bash
make clean
make rebuild
```

## ğŸ“Š è¡¨ä¾èµ–å…³ç³»å›¾
```
user (åŸºç¡€è¡¨)
â”œâ”€â”€ company (ä¾èµ–user)
â”‚   â”œâ”€â”€ department (ä¾èµ–company)
â”‚   â”‚   â””â”€â”€ position (ä¾èµ–department)
â”‚   â””â”€â”€ employee (ä¾èµ–user, company, department, position)
â”œâ”€â”€ role (ä¾èµ–company)
â”‚   â””â”€â”€ employee_role (ä¾èµ–employee, role)
â”œâ”€â”€ user_permission (ä¾èµ–user)
â”œâ”€â”€ notification (ä¾èµ–employee)
â””â”€â”€ operation_log (ä¾èµ–user, employee)

task (ä¾èµ–company, employee)
â”œâ”€â”€ task_node (ä¾èµ–task, department, employee)
â”œâ”€â”€ task_log (ä¾èµ–task, task_node, employee)
â””â”€â”€ task_handover (ä¾èµ–task, employee)
```
